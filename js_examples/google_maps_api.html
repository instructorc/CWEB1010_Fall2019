<!DOCTYPE html>
<html>
    <head>
        <title>Google Maps API Example</title>
        <style>
            #map{
                width: 600px;
                height: 600px;
            }
            .format{
              width: 100%;
              height: 100px;
              background-color: #333;
            }
            #flexcontainer{
              display: flex;
              height: 650px;
              width: 100%;
            }
            form{
              flex: 1 0 450px;
              height: 600px;
            }
        
        </style>
        <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/pure-min.css" integrity="sha384-oAOxQR6DkCoMliIh8yFnu25d7Eq/PHS21PClpwjOTeU2jRSq11vu66rf90/cZr47" crossorigin="anonymous">
    </head>
    <body>
        <header class="format"></header>
        <div id="flexcontainer">
            <form class="pure-form">
                <fieldset>
                  Address:<br>
                  <input type="text" name="firstname" size="50"><br>
                  Please select location: <br>
                  <select onchange="getLocation(this.value)">
                    <option value="none">Please select item below</option>
                    <option value="capital">The Capital </option>
                    <option value="convention">The Convention Center</option>
                  </select>
                </fieldset>
            </form>
            <div id="map"></div>
        </div>
        <footer class="format"></footer>
        <script>

          function getLocation(aValue){

            var arrayLocations =[
              {
                lat:44.955325,
                long: -93.102254,
                address: "Minnesota State Capitol, 75 Rev Dr Martin Luther King Jr Boulevard., St Paul, MN 55155",
                title: "The Capital Building"
              },
              {
                lat: 44.969948,
                long:-93.273775,
                address:"1301 2nd Ave S, Minneapolis, MN 55403",
                title: "The Convention Center",
                rooms: [
                  {
                    name: "red room",
                    level: 5
                  },
                  {
                    name: "orange room",
                    level: 5
                  }
                ]
              }
            ];

            //Decision Making Logic
            if(aValue == "capital"){
              initMap(arrayLocations[0]);
              //Target the input text box and set the address value
              document.getElementsByTagName('input')[0].value = arrayLocations[0].address;
            }else if(aValue =="convention"){
              initMap(arrayLocations[1]);
              //Target the input text box and set the address value
              document.getElementsByTagName('input')[0].value = arrayLocations[1].address;
            }else{
              console.log("Neither capital or convention was selected");
            }

            //Call the google maps initMap function and pass our data to function
            initMap(capitalLocation);

          }

            //Add Event to trigger functions
            /**document.getElementsByTagName('input')[1].addEventListener('click', theCapitalLocation);
            document.getElementsByTagName('input')[2].addEventListener('click', theConventionCenterLocation);
            function theCapitalLocation(){

              var capitalLocation = {
                lat:44.955325,
                long: -93.102254,
                address: "Minnesota State Capitol, 75 Rev Dr Martin Luther King Jr Boulevard., St Paul, MN 55155",
                title: "The Capital Building"
              }


              //Call the google maps initMap function and pass our data to function
              initMap(capitalLocation);
              
              //Target the input text box and set the address value
              document.getElementsByTagName('input')[0].value = capitalLocation.address;

            }

            function theConventionCenterLocation(){

              var conventionLocation ={
                lat: 44.969948,
                long:-93.273775,
                address:"1301 2nd Ave S, Minneapolis, MN 55403",
                title: "The Convention Center",
                rooms: [
                  {
                    name: "red room",
                    level: 5
                  },
                  {
                    name: "orange room",
                    level: 5
                  }
                ]
              }
  

              //Call the google maps initMap function and pass our data to function
              initMap(conventionLocation);

              //Target the input text box and set the address value
              document.getElementsByTagName('input')[0].value = conventionLocation.address;
            }**/

            function initMap(aObject) {
                var myLatLng = {lat: parseFloat(aObject.lat), lng: parseFloat(aObject.long)};

                var map = new google.maps.Map(document.getElementById('map'), {
                    zoom: 17,
                    center: myLatLng
                });

                var marker = new google.maps.Marker({
                    position: myLatLng,
                    map: map,
                    title: aObject.title
                });
            }
            
            
        </script>
        <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDdolB5KKHFGxVTNuJpcd6a4J0dBehKMFU&callback=initMap">
        </script>
    </body>
</html>